## 40 | 运用学过的设计原则和思想完善之前讲的性能计数器项目（下）
### 一、代码重构优化
1、继承能够解决代码重复的问题，因此可以将ConsoleReporter和EmailReporter中的相同代码逻辑，提取到父类ScheduledReporter中，以解决代码重复问题。  
2、依赖当前的系统时间，可将强依赖的部分通过参数传递进来，类似依赖注入。  
3、单元测试是为了提高代码质量，减少bug。如果代码足够简单，就没必要写单元测试。

### 二、功能需求完善


### 三、非功能需求完善
1、易用性  
2、性能   
(1)采集和存储要异步执行，降低对接口响应时间的影响。   
(2)当需要聚合统计的数据量比较大的时候，一次性加载太多的数据到内存，会导致内存吃紧，甚至内存溢出。   
3、扩展性   
(1)框架的扩展性有别于代码的扩展性，从使用者的角度，特指使用者可以在不修改框架源码，甚至不拿到框架源码的情况下，为框架扩展新的功能。   
4、容错性   
5、通用性    
