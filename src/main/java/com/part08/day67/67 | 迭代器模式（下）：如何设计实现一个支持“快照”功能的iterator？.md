## 67 | 迭代器模式（下）：如何设计实现一个支持“快照”功能的iterator？
### 一、解决方案一
1、在迭代器类中定义一个成员变量snapshot来存储快照。每当创建迭代器的时候，都拷贝一份容器中的元素到快照中，后续的遍历操作都基于这个迭代器自己持有的快照来进行。  
2、由于每次创建迭代器的时候都要拷贝一份数据到快照中，因此会增加内存的消耗。

### 二、解决方案二
1、在容器中为每个元素保存两个时间戳，一个是添加时间戳，一个是删除时间戳。当元素被加入到集合中的时候，将添加时间戳设置为当前时间戳，将删除时间戳设置为最大长整型值，当元素被删除时，把删除时间戳更新为当前时间，表示已经被删除。  
2、为每个迭代器保存一个迭代器创建时间戳，当使用迭代器来遍历容器时，只有满足添加时间戳<创建时间戳<删除时间戳时，才是属于这个迭代器的快照。  
3、缺点是不支持快速的随机访问，删除不是物理删除而是标记删除。  
