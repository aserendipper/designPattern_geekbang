## 70 | 备忘录模式：对于大对象的备份和恢复，如何优化内存和时间的消耗？
### 一、备忘录模式的原理与实现
1、Captures and externalizes an object's internal state so that it can be restored later,all without violating encapsulation.  
2、备忘录模式：在不违背封装原则的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态，以便之后恢复对象为先前的状态。  
3、备忘录模式和“备份”有什么区别和联系？  
(1)两者应用场景很类似，都应用在防丢失、恢复、撤销等场景中。  
(2)它们的区别在于备忘录模式更侧重于代码的设计与实现，备份更侧重架构设计与产品设计。

### 二、如何优化内存和时间消耗？
1、如果要备份的对象数据比较大，备份频率又比较高，那快照占用的内存会比较大，备份和恢复的耗时会比较长，怎么解决？  
(1)不同的业务场景有不同的处理方式，比如只备份必要的恢复信息，结合最新的数据来恢复；比如全量备份和增量备份相结合，低频全量备份，高频增量备份，两者结合来做恢复。  