## 35 | 实战一（下）：手把手带你将ID生成器代码从“能用”重构为“好用”
### 一、制定重构计划
1、第一轮重构：提高代码的可读性.   
2、第二轮重构：提高代码的可测试性.   
3、第三轮重构：编写完善的单元测试.   
4、第四轮重构：所有重构完成之后添加注释.

### 二、第一轮重构：提高代码的可读性
1、hostName变量不应该被重复使用，尤其当这两次使用时的含义还不同的时候。  
2、将获取hostName的代码抽离出来，定义为getLastFieldOfHostName函数。  
3、删除代码中的魔法数，比如57、90、97、122。  
4、将随机数生成的代码抽离出来，定义为generateRandomAlphameric函数。  
5、generate函数中的三个if逻辑重复，且实现过于复杂，要对其进行简化。  
6、对IdGenerator类重命名，并且抽象出对应的接口。

### 三、第二轮重构：提高代码的可测试性
1、generate函数定义为静态函数，会影响使用该函数的代码的可测试性。  
2、generate函数的代码实现依赖运行环境、时间函数、随机函数，所以generate函数本身的可测试性也不好。

### 四、第三轮重构：编写完善的单元测试
### 五、第四轮重构：添加注释