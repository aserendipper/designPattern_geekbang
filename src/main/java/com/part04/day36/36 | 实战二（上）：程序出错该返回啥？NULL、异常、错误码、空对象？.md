## 36 | 实战二（上）：程序出错该返回啥？NULL、异常、错误码、空对象？
### 一、从上节课的ID生成器代码讲起
1、对于generate()函数，如果本机名获取失败，函数返回什么？这样的返回值是否合理？  
2、对于getLastFieldOfHostName()函数，是否应该将UnknownHostException异常在函数内部吞掉(try-catch并打印日志)？还是应该将异常继续往上抛出？如果往上抛出的话，是直接把UnknownHostException异常原封不动地抛出，还是封装成新的异常抛出？  
3、对于getLastSubstrSplittedByDot函数，如果hostname为null或者空字符串，这个函数应该返回什么？  
4、对于generateRandomAlphameric函数，如果length小于0或者等于0，这个函数应该返回什么？

### 二、函数出错应该返回啥？
1、返回错误码  
(1)C语言中没有异常这样的语法机制，因此返回错误码便是常用的出错处理方式。  
(2)在Java、Python中，大部分情况下都用异常来处理函数出错的情况，极少用到错误码。  
2、返回null值  
(1)如果某个函数有可能返回null值，在使用它的时候如果忘记null值判断，则可能会抛出空指针异常。  
(2)定义很多返回值可能为null的函数，那代码中就会充斥着大量的null值判断逻辑，影响代码的可读性。  
(3)但对于get、find、select、search等查找函数来说，数据不存在，并非一种异常情况，因此返回null值比返回异常更加合理，需要根据实际情况而定。  
3、返回空对象  
(1)对于返回null值的问题，可以采用空对象设计模式。  
(2)当函数返回的数据类型是字符串类型或者集合类型的时候，可以用空字符串或空集合替代null值，就可以不用做null值判断。  
4、抛出异常对象  
(1)最常用的函数处理方式是抛出异常，异常有两种类型：受检异常和非受检异常。  
(2)对于函数抛出的异常，有三种处理方法：直接吞掉、直接往上抛出、包装成新的异常抛出。  
