## 48 | 代理模式：代理在RPC、缓存、监控等场景中的应用
### 一、代理模式的原理解析
1、代理模式：在不改变原始类(或叫做被代理类)代码的情况下，通过引入代理类来给原始类附加功能。  
2、静态代理模式的两种实现方式：  
(1)代理类和被代理类实现相同的接口，被代理类只负责业务功能，代理类负责在业务代码执行前后附加其他逻辑代码，并通过委托的方式调用被代理类来执行业务代码。  
(2)代理类继承被代理类，然后扩展附加功能。

### 二、动态代理的原理解析
1、动态代理：不事先为每个原始类编写代理类，而是在运行的时候，动态地创建原始类对应的代理类，然后在系统中用代理类替换掉原始类。  
2、Spring AOP底层的实现原理就是基于动态代理，用户配置好需要给哪些类创建代理，并定义好在执行原始类的业务代码前后执行哪些附加功能。Spring为这些类创建动态代理对象，并在JVM中替代原始类对象。

### 三、代理模式的应用场景
1、业务系统的非功能性需求开发，例如监控、限流、鉴权、事务、统计、幂等、日志等。  
2、代理模式在RPC、缓存中的应用  
(1)RPC框架也可以看作是一种代理模式。通过远程代理，将网络通信、数据编解码等细节隐藏起来，客户端使用时无需了解跟服务器的交互，RPC服务开发者也不需要关注跟客户端的交互。  
(2)开发一个接口请求的缓存功能时，可以开发两个接口，一个支持缓存，一个支持实时查询。  

